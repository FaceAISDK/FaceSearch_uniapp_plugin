{"version":3,"sources":["pages/index/index.uvue"],"names":[],"mappings":"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","file":"pages/index/index.uvue","sourcesContent":["<template>\n\t<view>\n\t\t<button class=\"gray-button\" @tap=\"startFaceSearchDemo\">打开持续人脸搜索</button>\n\t\t<button class=\"gray-button\" @tap=\"faceSearchDemo\">1:N人脸搜索识别</button> \n\t\t<button class=\"gray-button\" @tap=\"addFaceSearchFeatureDemo\">1:N人脸搜索录入人脸</button>\n\t\t<button class=\"gray-button\" @tap=\"deleteFaceSearchFeatureDemo\">删除人脸搜索特征值</button>\n\t\t<button class=\"gray-button\" @tap=\"insertFaceSearchFeatureDemo\">同步人脸搜索特征值</button>\n\t\t<button class=\"gray-button\" @tap=\"insertFaceSearchFeatureSDemo\">批量同步人脸搜索特征值</button>\n\t\t\n\t\t<view class=\"result-box\">\n\t\t      <view> Email: FaceAISDK.Service@gmail.com</view>\n\t\t       <scroll-view scroll-y=\"true\" class=\"scroll-view-box\">\n\t\t       <text class=\"text-content\">{{faceAIResult}}</text>\n\t\t       </scroll-view>\n\t\t</view>\n\t</view>\n</template>\n\n\n<script> \n\timport {startFaceSearch,\n\t\t    insertFaceSearchFeature,\n\t\t\tinsertManyFeatures,\n\t        addFaceSearchFeature,\n\t\t\tdeleteFaceSearchFeature,\n\t\t\tfaceSearch,ResultJSON} from \"@/uni_modules/FaceAI-Search\";\n \n\texport default {\n\t\t  \n\t\tdata() {\n\t\t\treturn {\n\t\t\t\tfaceID: 'faceSearchID',\n\t\t\t\tfaceFeature: 'faceFeature is a string with lenth 1024',\n\t\t\t\tfaceJSONFeatures: 'faceFeature is a string with lenth 1024',\n\t\t\t\tfaceAIResult: 'faceAIResult'\n\t\t\t}\n\t\t},\n\t\tonLoad() {\n\n\t\t},\n\t\t\n\t\tmethods: {\n\t\t\t\n\t\t\t/**\n\t\t\t * 人脸搜索\n\t\t\t */\n\t\t\tstartFaceSearchDemo: function () {\n\t\t\t    startFaceSearch((jsonStr: string) => {\n\t\t\t        // 这里会持续不断地收到回调\n\t\t\t        console.log(\"收到搜索结果:\", jsonStr);\n\t\t\t        \n\t\t\t        // 1. 简单展示，已经按照搜索匹配度降序排列\n\t\t\t        this.faceAIResult = \"【实时回调】\\n\" + jsonStr;\n\t\t\t        \n\t\t\t        // 2. 如果需要处理数据，建议包裹 try-catch 解析 JSON\n\t\t\t        // try {\n\t\t\t        //    const results = JSON.parse(jsonStr);\n\t\t\t        //    if(results.length > 0) {\n\t\t\t        //       // 可以在这里做业务逻辑，比如签到、开门等\n\t\t\t        //    }\n\t\t\t        // } catch(e) { console.error(e) }\n\t\t\t    });\n\t\t\t},\n\t\t\t\n\n\t\t\t/**\n\t\t\t* 人脸搜索，插件beta版本\n\t\t\t*/\n\t\t\tfaceSearchDemo: function () {\n\t\t\t\tfaceSearch(\n\t\t\t\t\t(result: ResultJSON) => {\n\t\t\t\t\t\tthis.faceAIResult =JSON.stringify(result)\n\t\t\t\t\t})\n\t\t\t},\n\t\t\t\n\t\t\t\n\t\t\t/**\n\t\t\t* 人脸搜索人脸特征录入，通过相机\n\t\t\t* \n\t\t\t*/\n\t\t\taddFaceSearchFeatureDemo: function () {\n\t\t\t\taddFaceSearchFeature(\n\t\t\t\t     this.faceID,\n\t\t\t\t\t 1,           //1.快速模式2.精确模式\n\t\t\t\t\t (result: ResultJSON)  => {\n\t\t\t\t\t\t//录入的人脸\n\t\t\t\t\t\tthis.faceAIResult =JSON.stringify(result)\n\t\t\t\t\t})\n\t\t\t},\n\t\t\t\n\t\t\t/**\n\t\t\t* 删除人脸搜索人脸特征\n\t\t\t* \n\t\t\t*/\n\t\t\tdeleteFaceSearchFeatureDemo: function () {\n\t\t\t\tdeleteFaceSearchFeature(\n\t\t\t\t     this.faceID,\n\t\t\t\t\t (result: ResultJSON)  => {\n\t\t\t\t\t\tthis.faceAIResult =JSON.stringify(result)\n\t\t\t\t\t})\n\t\t\t},\n\t\t\t\n\t\t\t\n\t\t\t/**\n\t\t\t* 人脸搜索人脸特征更新同步\n\t\t\t* \n\t\t\t*/\n\t\t\tinsertFaceSearchFeatureDemo: function () {\n\t\t\t\tinsertFaceSearchFeature(\n\t\t\t\t   this.faceID,\n\t\t\t\t   this.faceFeature,\n\t\t\t\t   \"tag\",\n\t\t\t\t   \"group\",\n\t\t\t\t\t (result: ResultJSON)  => {\n\t\t\t\t\t\t//录入的人脸\n\t\t\t\t\t\tthis.faceAIResult =JSON.stringify(result)\n\t\t\t\t\t})\n\t\t\t},\n\t\t\t\n\t\t\t/**\n\t\t\t* 批量操作人脸搜索人脸特征更新同步\n\t\t\t* \n\t\t\t*/\n\t\t\tinsertFaceSearchFeatureSDemo: function () {\n\t\t\t\tinsertManyFeatures(\n\t\t\t\t     this.faceID,\n\t\t\t\t\t (result: ResultJSON)  => {\n\t\t\t\t\t\tthis.faceAIResult =JSON.stringify(result)\n\t\t\t\t\t})\n\n\t\t\t}\n\t\t\t\n\t   }\t\t\t\n\n\t}\n</script>\n\n<style>\n    /* 给滚动区域一个固定高度和边框 */\n    .result-box {\n        margin: 20rpx;\n    }\n    \n    .scroll-view-box {\n        height: 400rpx; /* 必须指定高度，否则无法滚动 */\n        border: 1px solid #ccc;\n        border-radius: 10rpx;\n        background-color: #f8f8f8;\n        padding: 15rpx;\n        box-sizing: border-box; /* 确保padding不撑大宽高 */\n    }\n\n    .text-content {\n        font-size: 28rpx;\n        color: #333; /* word-break: break-all; 关键：解决长JSON字符串不换行的问题 */\n        white-space: pre-wrap; /* 保留格式并自动换行 */\n    }\n</style>\n\n\n<style>\n    .gray-button {\n    \tbackground-color: #ffffff; /* 灰色背景 */\n    \tcolor: #800080;            /* 深灰色文字 */\n    \tborder: none;\n    }\n\n</style>\n    "]}